# 视频转换工具开发路线图

## 🎯 当前状态
- ✅ 前后端基础架构完成
- ✅ 所有编译错误已修复
- ✅ API路径统一为 `/api/video/*`
- ✅ 前端服务: http://localhost:5173
- ✅ 后端服务: http://localhost:8080

## 🚀 开发阶段规划

### 阶段1: 数据库集成 (优先级: 🔴 高)
**目标**: 实现数据持久化，替换内存存储

#### 1.1 数据库环境搭建
- [ ] 安装配置MySQL数据库
- [ ] 执行数据库表结构创建脚本 (`database_schema.sql`)
- [ ] 配置数据库连接参数

#### 1.2 MyBatis-Plus集成
- [ ] 创建实体类映射 (`@TableName`, `@TableId`)
- [ ] 创建Mapper接口 (`BaseMapper<VideoTask>`)
- [ ] 配置MyBatis-Plus自动配置
- [ ] 替换内存存储为数据库操作

#### 1.3 数据库功能测试
- [ ] 视频任务CRUD操作测试
- [ ] 字幕内容存储测试
- [ ] 处理日志记录测试

### 阶段2: 实际API集成 (优先级: 🟡 中)
**目标**: 集成真实的AI服务API

#### 2.1 Whisper语音识别集成
- [ ] 配置OpenAI API密钥
- [ ] 实现音频文件提取 (从视频中提取音频)
- [ ] 集成Whisper API调用
- [ ] 处理API响应和错误

#### 2.2 GPT翻译服务集成
- [ ] 配置GPT API调用
- [ ] 实现中文到越南语翻译
- [ ] 实现文本分词功能
- [ ] 优化翻译质量和准确性

#### 2.3 环境变量管理
- [ ] 创建 `.env` 配置文件
- [ ] 配置API密钥安全存储
- [ ] 实现配置热重载

### 阶段3: 功能完善 (优先级: 🟢 中低)
**目标**: 完善用户体验和功能细节

#### 3.1 文件处理优化
- [ ] 大文件分片上传
- [ ] 文件格式验证和转换
- [ ] 文件存储路径优化
- [ ] 临时文件清理机制

#### 3.2 字幕编辑器增强
- [ ] 实时预览功能
- [ ] 时间轴调整
- [ ] 批量编辑功能
- [ ] 导出多种字幕格式 (SRT, VTT, ASS)

#### 3.3 进度监控优化
- [ ] WebSocket实时推送
- [ ] 详细进度信息
- [ ] 处理时间预估
- [ ] 错误重试机制

### 阶段4: 测试和部署 (优先级: 🔵 低)
**目标**: 确保系统稳定性和可部署性

#### 4.1 测试完善
- [ ] 单元测试覆盖
- [ ] 集成测试
- [ ] 端到端测试
- [ ] 性能测试

#### 4.2 部署准备
- [ ] Docker容器化
- [ ] 生产环境配置
- [ ] 监控和日志
- [ ] 备份策略

## 📋 立即可执行的任务

### 任务1: 数据库环境搭建 (预计30分钟)
```bash
# 1. 安装MySQL (如果未安装)
brew install mysql

# 2. 启动MySQL服务
brew services start mysql

# 3. 创建数据库
mysql -u root -p < database_schema.sql

# 4. 更新application.yml数据库配置
```

### 任务2: MyBatis-Plus实体类创建 (预计45分钟)
- 为VideoTask添加JPA注解
- 创建VideoTaskMapper接口
- 创建SubtitleContentMapper接口
- 更新Service层使用数据库操作

### 任务3: API功能测试 (预计20分钟)
- 测试视频上传接口
- 测试处理流程接口
- 验证前后端数据交互

## 🎯 建议的执行顺序

1. **立即执行**: 任务3 (API功能测试) - 验证当前功能
2. **今天完成**: 任务1 (数据库环境搭建)
3. **明天完成**: 任务2 (MyBatis-Plus集成)
4. **本周完成**: 阶段2 (AI API集成)

## 💡 技术建议

- 使用Docker Compose简化开发环境搭建
- 实现配置文件分离 (开发/生产环境)
- 添加API文档 (Swagger/OpenAPI)
- 考虑使用Redis缓存提升性能 